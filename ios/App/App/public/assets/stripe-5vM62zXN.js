var e,t="basil",r="https://js.stripe.com",n="".concat(r,"/").concat(t,"/stripe.js"),o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,i=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,s="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",c=function(e){return o.test(e)||i.test(e)},a=function(e){var t=document.createElement("script");t.src="".concat(n).concat("");var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},u=null,l=null,d=null,p=function(e){return null!==u?u:(u=new Promise(function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(s),window.Stripe)t(window.Stripe);else try{var o=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),t=0;t<e.length;t++){var n=e[t];if(c(n.src))return n}return null}();if(o&&e)console.warn(s);else if(o){if(o&&null!==d&&null!==l){var i;o.removeEventListener("load",d),o.removeEventListener("error",l),null===(i=o.parentNode)||void 0===i||i.removeChild(o),o=a()}}else o=a();d=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),l=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(n),o.addEventListener("load",d),o.addEventListener("error",l)}catch(u){return void n(u)}else t(null)})).catch(function(e){return u=null,Promise.reject(e)})},f=!1,v=function(){return e||(e=p(null).catch(function(t){return e=null,Promise.reject(t)}))};Promise.resolve().then(function(){return v()}).catch(function(e){f||console.warn(e)});var m=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];f=!0;var o=Date.now();return v().then(function(e){return function(e,r,n){if(null===e)return null;var o=r[0].match(/^pk_test/),i=function(e){return 3===e?"v3":e}(e.version),s=t;o&&i!==s&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(s,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,r);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:t})}(c,n),c}(e,r,o)})};export{m as l};
